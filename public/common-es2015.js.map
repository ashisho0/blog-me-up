{"version":3,"sources":["./src/app/admin-dashboard/services/article.service.ts","./src/app/admin-dashboard/services/user.service.ts","./src/app/models/article.model.ts"],"names":[],"mappings":"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","file":"common-es2015.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { BaseService } from './../../shared/services/base.service'\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Article } from '../../models/article.model';\r\nimport { Observable } from 'rxjs';\r\n\r\n\r\n@Injectable()\r\nexport class ArticleService extends BaseService {\r\n    constructor(\r\n        public http: HttpClient\r\n    ) {\r\n        super('article');\r\n    }\r\n\r\n    getArticle() {\r\n        return this.http.get(this.url, this.getOptions());\r\n    }\r\n    addArticle(data) {\r\n        return this.http.post(this.url + 'add', data, this.getOptionsWithToken());\r\n    }\r\n\r\n    getArticleById(id) {\r\n\r\n        return this.http.get(this.url + id, this.getOptions());\r\n\r\n    }\r\n    editArticle(updatedData: Article, id) {\r\n        return this.http.put(this.url + 'edit/' + id, updatedData, this.getOptionsWithToken());\r\n\r\n\r\n    }\r\n    deleteArticle(id) {\r\n        return this.http.delete(this.url + id, this.getOptionsWithToken());\r\n\r\n    }\r\n\r\n\r\n    // Add and edit article with file upload XHR \r\n\r\n    uploadArticle(article: Article, files: Array<any>, method) {\r\n        return new Observable((observer) => {\r\n\r\n            const xhr = new XMLHttpRequest();\r\n            const formData = new FormData();\r\n\r\n            if (files.length) {\r\n                formData.append('image', files[0], files[0].name)\r\n            }\r\n\r\n            for (let key in article) {\r\n                formData.append(key, article[key])\r\n            }\r\n\r\n            xhr.onreadystatechange = () => {\r\n                if (xhr.readyState == 4) {\r\n                    if (xhr.status == 200) {\r\n                        observer.next(xhr.response)\r\n                    }\r\n                    else {\r\n                        observer.error(xhr.response);\r\n                    }\r\n                }\r\n            }\r\n            let endUrl;\r\n            if (method == 'PUT') {\r\n                endUrl = this.url + 'edit/' + article._id + '?token=' + localStorage.getItem('token')\r\n            }\r\n            else {\r\n                endUrl = this.url + 'add' + '?token=' + localStorage.getItem('token')\r\n\r\n            }\r\n            xhr.open(method, endUrl, true);\r\n            xhr.send(formData)\r\n\r\n        })\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { BaseService } from './../../shared/services/base.service'\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { User } from '../../models/user.model'\r\nimport { Observable } from 'rxjs';\r\n\r\n\r\n\r\n@Injectable()\r\nexport class UserService extends BaseService {\r\n    constructor(\r\n        public http: HttpClient\r\n    ) {\r\n        super('user');\r\n    }\r\n\r\n    getUser() {\r\n        // console.log(this.url);\r\n        return this.http.get(this.url, this.getOptions());\r\n    }\r\n    addUser(data) {\r\n        console.log(data, this.url)\r\n        return this.http.post(this.url + 'add', data, this.getOptionsWithToken());\r\n    }\r\n\r\n    getUserById(id) {\r\n        return this.http.get(this.url + id, this.getOptions());\r\n\r\n    }\r\n    editUser(updatedData: User, id) {\r\n        return this.http.put(this.url + 'edit/' + id, updatedData, this.getOptionsWithToken());\r\n\r\n\r\n    }\r\n    deleteUser(id) {\r\n        return this.http.delete(this.url + id, this.getOptionsWithToken());\r\n\r\n    }\r\n\r\n\r\n    search() {\r\n        // to be continued\r\n    }\r\n\r\n\r\n    // edit User with file upload XHR \r\n    uploadUser(user: User, files: Array<any>, method) {\r\n        return new Observable((observer) => {\r\n\r\n            const xhr = new XMLHttpRequest();\r\n            const formData = new FormData();\r\n\r\n            if (files.length) {\r\n                formData.append('image', files[0], files[0].name)\r\n            }\r\n\r\n            for (let key in user) {\r\n                formData.append(key, user[key])\r\n            }\r\n\r\n            xhr.onreadystatechange = () => {\r\n                if (xhr.readyState == 4) {\r\n                    if (xhr.status == 200) {\r\n                        observer.next(xhr.response)\r\n                    }\r\n                    else {\r\n                        observer.error(xhr.response);\r\n                    }\r\n                }\r\n            }\r\n            let endUrl;\r\n            if (method == 'PUT') {\r\n                endUrl = this.url + 'edit/' + user._id + '?token=' + localStorage.getItem('token')\r\n            }\r\n            else {\r\n                endUrl = this.url + 'add' + '?token=' + localStorage.getItem('token')\r\n\r\n            }\r\n            xhr.open(method, endUrl, true);\r\n            xhr.send(formData)\r\n\r\n        })\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","export class Article {\r\n    _id: string;\r\n    title: string;\r\n    description: string;\r\n    content: string;\r\n    author: string;\r\n    image: string;\r\n    isPublished: string;\r\n    approvedDate: Date;\r\n\r\n    constructor(details: any) {\r\n\r\n        this.title = details.title || \"\";\r\n        this.description = details.description || \"\";\r\n        this.content = details.content || \"\";\r\n        this.author = details.author || \"\";\r\n        this.image = details.image || \"\";\r\n        this.isPublished = details.isPublished || \"\";\r\n        this.approvedDate = details.approvedDate || \"\";\r\n\r\n    }\r\n}\r\n\r\n\r\n"],"sourceRoot":"webpack:///"}