{"version":3,"sources":["src/app/admin-dashboard/services/article.service.ts","src/app/admin-dashboard/services/user.service.ts","src/app/models/article.model.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { BaseService } from './../../shared/services/base.service'\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Article } from '../../models/article.model';\r\nimport { Observable } from 'rxjs';\r\n\r\n\r\n@Injectable()\r\nexport class ArticleService extends BaseService {\r\n    constructor(\r\n        public http: HttpClient\r\n    ) {\r\n        super('article');\r\n    }\r\n\r\n    getArticle() {\r\n        return this.http.get(this.url, this.getOptions());\r\n    }\r\n    addArticle(data) {\r\n        return this.http.post(this.url + 'add', data, this.getOptionsWithToken());\r\n    }\r\n\r\n    getArticleById(id) {\r\n\r\n        return this.http.get(this.url + id, this.getOptions());\r\n\r\n    }\r\n    editArticle(updatedData: Article, id) {\r\n        return this.http.put(this.url + 'edit/' + id, updatedData, this.getOptionsWithToken());\r\n\r\n\r\n    }\r\n    deleteArticle(id) {\r\n        return this.http.delete(this.url + id, this.getOptionsWithToken());\r\n\r\n    }\r\n\r\n\r\n    // Add and edit article with file upload XHR \r\n\r\n    uploadArticle(article: Article, files: Array<any>, method) {\r\n        return new Observable((observer) => {\r\n\r\n            const xhr = new XMLHttpRequest();\r\n            const formData = new FormData();\r\n\r\n            if (files.length) {\r\n                formData.append('image', files[0], files[0].name)\r\n            }\r\n\r\n            for (let key in article) {\r\n                formData.append(key, article[key])\r\n            }\r\n\r\n            xhr.onreadystatechange = () => {\r\n                if (xhr.readyState == 4) {\r\n                    if (xhr.status == 200) {\r\n                        observer.next(xhr.response)\r\n                    }\r\n                    else {\r\n                        observer.error(xhr.response);\r\n                    }\r\n                }\r\n            }\r\n            let endUrl;\r\n            if (method == 'PUT') {\r\n                endUrl = this.url + 'edit/' + article._id + '?token=' + localStorage.getItem('token')\r\n            }\r\n            else {\r\n                endUrl = this.url + 'add' + '?token=' + localStorage.getItem('token')\r\n\r\n            }\r\n            xhr.open(method, endUrl, true);\r\n            xhr.send(formData)\r\n\r\n        })\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { BaseService } from './../../shared/services/base.service'\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { User } from '../../models/user.model'\r\nimport { Observable } from 'rxjs';\r\n\r\n\r\n\r\n@Injectable()\r\nexport class UserService extends BaseService {\r\n    constructor(\r\n        public http: HttpClient\r\n    ) {\r\n        super('user');\r\n    }\r\n\r\n    getUser() {\r\n        // console.log(this.url);\r\n        return this.http.get(this.url, this.getOptions());\r\n    }\r\n    addUser(data) {\r\n        console.log(data, this.url)\r\n        return this.http.post(this.url + 'add', data, this.getOptionsWithToken());\r\n    }\r\n\r\n    getUserById(id) {\r\n        return this.http.get(this.url + id, this.getOptions());\r\n\r\n    }\r\n    editUser(updatedData: User, id) {\r\n        return this.http.put(this.url + 'edit/' + id, updatedData, this.getOptionsWithToken());\r\n\r\n\r\n    }\r\n    deleteUser(id) {\r\n        return this.http.delete(this.url + id, this.getOptionsWithToken());\r\n\r\n    }\r\n\r\n\r\n    search() {\r\n        // to be continued\r\n    }\r\n\r\n\r\n    // edit User with file upload XHR \r\n    uploadUser(user: User, files: Array<any>, method) {\r\n        return new Observable((observer) => {\r\n\r\n            const xhr = new XMLHttpRequest();\r\n            const formData = new FormData();\r\n\r\n            if (files.length) {\r\n                formData.append('image', files[0], files[0].name)\r\n            }\r\n\r\n            for (let key in user) {\r\n                formData.append(key, user[key])\r\n            }\r\n\r\n            xhr.onreadystatechange = () => {\r\n                if (xhr.readyState == 4) {\r\n                    if (xhr.status == 200) {\r\n                        observer.next(xhr.response)\r\n                    }\r\n                    else {\r\n                        observer.error(xhr.response);\r\n                    }\r\n                }\r\n            }\r\n            let endUrl;\r\n            if (method == 'PUT') {\r\n                endUrl = this.url + 'edit/' + user._id + '?token=' + localStorage.getItem('token')\r\n            }\r\n            else {\r\n                endUrl = this.url + 'add' + '?token=' + localStorage.getItem('token')\r\n\r\n            }\r\n            xhr.open(method, endUrl, true);\r\n            xhr.send(formData)\r\n\r\n        })\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","export class Article {\r\n    _id: string;\r\n    title: string;\r\n    description: string;\r\n    content: string;\r\n    author: string;\r\n    image: string;\r\n    isPublished: string;\r\n    approvedDate: Date;\r\n\r\n    constructor(details: any) {\r\n\r\n        this.title = details.title || \"\";\r\n        this.description = details.description || \"\";\r\n        this.content = details.content || \"\";\r\n        this.author = details.author || \"\";\r\n        this.image = details.image || \"\";\r\n        this.isPublished = details.isPublished || \"\";\r\n        this.approvedDate = details.approvedDate || \"\";\r\n\r\n    }\r\n}\r\n\r\n\r\n"],"sourceRoot":"webpack:///","file":"common-es5.js"}